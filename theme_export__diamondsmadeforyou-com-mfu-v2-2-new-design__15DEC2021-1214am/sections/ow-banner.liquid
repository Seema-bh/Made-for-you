{% if section.settings.enable_section %}
<section>
  <div class="page-width">
    <div class="banner-wrapper">
      {% assign banner_image = section.settings.banner_large | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper small--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_image }}" 
             data-widths="[180, 360, 375, 414, 540, 720]" 
             data-aspectratio="{{ section.settings.banner_large.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>

      {% assign banner_image = section.settings.banner_small | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper medium-up--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_image }}" 
             data-widths="[180, 360, 375, 414, 540, 720]" 
             data-aspectratio="{{ section.settings.banner_small.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>

      <div class="banner-text small--text-center">
        {% if section.settings.title != blank %}
        <h1>{{ section.settings.title }}</h1>
        {% else %}
        <h1>{{ page.title }}</h1>
        {% endif %}
        {% if section.settings.text != blank %}
        {{ section.settings.text }}
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endif %}

<style>
  @media (min-width: 750px) {
    .ow-banner-section .banner-text h1, 
    .ow-banner-section .banner-text p {color: {{ section.settings.color }};}
  }
  @media (max-width: 749px) {
    .ow-banner-section .banner-text {background-color: {{ section.settings.bg_color }};}
    .ow-banner-section .banner-text h1 {color: {{ section.settings.title_color_mob }};} 
    .ow-banner-section .banner-text p {color: {{ section.settings.text_color_mob }};}
  }
</style>

{% schema %}
  {
    "name": "Banner",
    "class": "ow-banner-section",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_section",
        "label": "Enable section"
      },
      {
        "type": "image_picker",
        "id": "banner_large",
        "label": "Banner Image (Desktop)",
        "info": "Recommended size 1240 (px)"
      },
      {
        "type": "image_picker",
        "id": "banner_small",
        "label": "Banner Image (Mobile)",
        "info": "Recommended size 360x334 (px)"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color mobile"
      },
      {
        "type": "color",
        "id": "color",
        "label": "Color"
      },
      {
        "type": "color",
        "id": "title_color_mob",
        "label": "Title Color (Mobile)"
      },
      {
        "type": "color",
        "id": "text_color_mob",
        "label": "Text Color (Mobile)"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Title"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Text goes here.</p>"
      }
    ]
  }
{% endschema %}