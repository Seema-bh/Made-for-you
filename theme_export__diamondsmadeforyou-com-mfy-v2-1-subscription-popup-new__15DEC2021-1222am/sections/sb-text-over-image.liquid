{% if section.settings.enable_section %}
<div class="section-spacing">
  <div class="page-width">
    <div class="banner-wrapper">
      {% assign banner_image = section.settings.banner_large | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper small--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_large.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_image }}" 
             data-widths="[180, 360, 375, 414, 540, 800, 1024, 1280, 1340, 1920 ]" 
             data-aspectratio="{{ section.settings.banner_large.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>

      {% assign banner_image = section.settings.banner_small | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
      <div class="image-wrapper absolute-image-wrapper medium-up--hide" style="padding-top:{{ 1 | divided_by: section.settings.banner_small.aspect_ratio | times: 100 }}%;">
        <img class="lazyload" 
             data-src="{{ banner_image }}" 
             data-widths="[180, 360, 375, 414, 540, 800]" 
             data-aspectratio="{{ section.settings.banner_small.aspect_ratio }}" 
             data-sizes="auto"
             alt="" />
      </div>

      <div class="banner-text content small--text-center">
        {% if section.settings.title != blank %}
        <h2>{{ section.settings.title }}</h2>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endif %}

<style>
  .sb-text-over-image .banner-text h2 {color: {{ section.settings.color }};}
</style>

{% schema %}
  {
    "name": "Text over image",
    "class": "sb-text-over-image",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_section",
        "label": "Enable section",
		"default": true
      },
      {
        "type": "image_picker",
        "id": "banner_large",
        "label": "Banner Image (Desktop)",
        "info": "Recommended size 1280x540 (px)"
      },
      {
        "type": "image_picker",
        "id": "banner_small",
        "label": "Banner Image (Mobile)",
        "info": "Recommended size 390x320 (px)"
      },
      {
        "type": "color",
        "id": "color",
        "label": "Color",
		"default": "#FFFFFF"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title",
        "default": "Title"
      }
    ]
  }
{% endschema %}