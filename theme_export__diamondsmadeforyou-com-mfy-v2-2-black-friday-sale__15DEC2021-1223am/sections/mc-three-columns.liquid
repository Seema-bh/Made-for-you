{% if section.settings.enable_section %}
<div class="section-spacing">
  <div class="page-width">
    <div class="section-wrapper">
      <div class="grid grid--uniform mc-columns-slider custom-slider text-center">
        {% for block in section.blocks %}
        <div class="grid__item medium-up--one-third">
          <div class="column">
            {% assign banner = block.settings.banner | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
            <div class="image-wrapper absolute-image-wrapper" style="padding-top:{{ 1 | divided_by: block.settings.banner.aspect_ratio | times: 100}}%;">
              <img class="custom__image lazyload" 
                   data-src="{{ banner }}" 
                   data-sizes="auto" 
                   alt="" />
            </div>
            <div class="content">
              {% if block.settings.title != blank %}
              <h2>{{ block.settings.title }}</h2>
              {% endif %}
              {% if block.settings.text != blank %}
              <div class="text">{{ block.settings.text }}</div>
              {% endif %}
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>
{% endif %}

{% schema %}
  {
    "name": "Three columns",
	"class": "mc-three-columns",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_section",
        "label": "Enable section",
		"default": true
      }
	],
	"max_blocks": 3,
	"blocks":[
      {
        "type": "column",
        "name": "Column",
        "settings": [
		  {
            "type": "image_picker",
            "id": "banner",
            "label": "Banner",
            "info": "Recommended size 394x498 (px)"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Title"
          },
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>Text goes here</p>"
          }
        ]
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
