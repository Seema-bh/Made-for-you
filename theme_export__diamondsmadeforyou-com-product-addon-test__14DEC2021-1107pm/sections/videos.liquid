<div class="image-with-video-overlay">
  <div class="container">
    <div class="video-wrapper">
      <video id="myVideo" autoplay="autoplay" loop="loop" preload playsinline muted id="video">
        <source src="{{ section.settings.video }}" type="video/mp4" />
        Your browser does not support the video tag or the file format of this video.
      </video>
    </div>
  </div>
</div>
<script>
  var vid = document.getElementById("myVideo");
  function enableAutoplay() { 
    vid.autoplay = true;
    vid.load();
  }

  function disableAutoplay() { 
    vid.autoplay = false;
    vid.load();
  } 

  function checkAutoplay() { 
    alert(vid.autoplay);
  } 
  enableAutoplay();
</script> 
<style>
  .video-wrapper{
    position: relative;
    height: 0;
    overflow: hidden;
    padding-bottom: 31.25%;
    margin-bottom: 50px;
  }
  .video-wrapper video {
    position: absolute;
    width: 100%;
    height: 100%;
  }
</style>
{% schema %}
{
  "name": "Video",
  "settings": [
    {
      "type": "textarea",
      "id": "video",
      "label": "Video url"
    }
  ],
  "presets": [
    {
      "name": "banner with video",
      "category": "Advanced layout"
    }
  ]
}
{% endschema %}

